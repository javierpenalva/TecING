<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programación Bachillerato - Pensamiento Computacional</title>
    
    <!-- Tailwind CSS para estilos -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel para traducir JSX en el navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Estilos adicionales para animaciones -->
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }
        .animate-wiggle {
            animation: wiggle 0.2s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-slate-900 text-white font-sans overflow-hidden">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONOS (SVG Inline para evitar dependencias externas complejas) ---
        const IconBase = ({ children, size = 24, className = "", ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                {children}
            </svg>
        );

        const ChevronRight = (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>;
        const ChevronLeft = (props) => <IconBase {...props}><path d="m15 18-6-6 6-6"/></IconBase>;
        const RotateCcw = (props) => <IconBase {...props}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74-2.74L3 12"/><path d="M3 3v9h9"/></IconBase>;
        const Thermometer = (props) => <IconBase {...props}><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></IconBase>;
        const Dice5 = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><path d="M16 8h.01"/><path d="M8 8h.01"/><path d="M8 16h.01"/><path d="M16 16h.01"/><path d="M12 12h.01"/></IconBase>;
        const Zap = (props) => <IconBase {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></IconBase>;
        const Lock = (props) => <IconBase {...props}><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></IconBase>;
        const Code = (props) => <IconBase {...props}><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></IconBase>;
        const Cpu = (props) => <IconBase {...props}><rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></IconBase>;
        const XCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></IconBase>;
        const FileText = (props) => <IconBase {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></IconBase>;
        const ClipboardList = (props) => <IconBase {...props}><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></IconBase>;

        // --- COMPONENTES DE LA APLICACIÓN ---

        const App = () => {
          const [currentSlide, setCurrentSlide] = useState(0);
          const totalSlides = 14; // Aumentado para incluir diapositivas de enunciado

          const nextSlide = () => {
            if (currentSlide < totalSlides - 1) setCurrentSlide(currentSlide + 1);
          };

          const prevSlide = () => {
            if (currentSlide > 0) setCurrentSlide(currentSlide - 1);
          };

          const renderSlide = () => {
            switch (currentSlide) {
              case 0: return <SlideIntro onStart={nextSlide} />;
              case 1: return <SlideTeoria />;
              case 2: return <SlideDiagramas />;
              
              // Ejercicio 1
              case 3: return <SlideEnunciado 
                              titulo="Ejercicio 1: Control de Acceso" 
                              descripcion="Diseñar un algoritmo que solicite una contraseña numérica (1234). Si el usuario la introduce correctamente, el sistema debe permitir el acceso. Si falla, debe contar los intentos. Al tercer intento fallido, el sistema debe bloquearse." 
                              icono={<Lock size={60} className="text-blue-400" />}
                            />;
              case 4: return <SlideEjercicioLogin />;
              
              // Ejercicio 2
              case 5: return <SlideEnunciado 
                              titulo="Ejercicio 2: Calculadora de Notas" 
                              descripcion="Crear un programa que solicite tres calificaciones numéricas. Debe calcular la media aritmética de las tres. Dependiendo del resultado, mostrar: 'Suspenso' si es menor a 5, 'Aprobado' si está entre 5 y 8, o 'Sobresaliente' si es mayor a 8."
                              icono={<FileText size={60} className="text-emerald-400" />}
                            />;
              case 6: return <SlidePseudocodigo />;
              
              // Intro Micro:bit
              case 7: return <SlideMicrobitIntro />;
              
              // Práctica A
              case 8: return <SlideEnunciado 
                              titulo="Práctica A: Dado Digital" 
                              descripcion="Programar la placa Micro:bit para simular el comportamiento de un dado. Cuando el usuario agite la placa (evento 'Shake'), la pantalla LED debe mostrar un número aleatorio entre el 1 y el 6."
                              icono={<Dice5 size={60} className="text-purple-400" />}
                            />;
              case 9: return <SlidePracticaDado />;
              
              // Práctica B
              case 10: return <SlideEnunciado 
                              titulo="Práctica B: Termómetro de Seguridad" 
                              descripcion="Utilizar el sensor de temperatura integrado. El programa debe leer la temperatura ambiente constantemente. Si supera los 25ºC, debe alertar mostrando una calavera. Si no, debe mostrar el valor numérico de la temperatura."
                              icono={<Thermometer size={60} className="text-yellow-400" />}
                            />;
              case 11: return <SlidePracticaTermometro />;
              
              // Práctica C
              case 12: return <SlideEnunciado 
                              titulo="Práctica C: Juego de Reflejos" 
                              descripcion="Crear un juego de velocidad de reacción. Al iniciar, el sistema espera un tiempo aleatorio (2-5 segundos). Luego muestra un icono (Corazón). El usuario debe pulsar el botón A lo más rápido posible. El sistema mostrará los milisegundos que tardó en reaccionar."
                              icono={<Zap size={60} className="text-red-400" />}
                            />;
              case 13: return <SlidePracticaReflejos />;
              
              default: return <SlideIntro />;
            }
          };

          return (
            <div className="flex flex-col h-screen">
              {/* Header */}
              <header className="bg-slate-800 p-4 border-b border-slate-700 flex justify-between items-center shadow-md z-10">
                <div className="flex items-center space-x-2">
                  <Cpu className="text-blue-400" />
                  <h1 className="text-xl font-bold tracking-tight">Programación Bachillerato</h1>
                </div>
                <div className="text-sm text-slate-400 hidden sm:block">
                  Unidad: Pensamiento Computacional
                </div>
              </header>

              {/* Main Content Area */}
              <main className="flex-grow flex items-center justify-center p-6 relative overflow-y-auto">
                <div className="w-full max-w-5xl h-full flex flex-col justify-center min-h-[500px]">
                  {renderSlide()}
                </div>
              </main>

              {/* Footer / Navigation */}
              <footer className="bg-slate-800 p-4 border-t border-slate-700 flex justify-between items-center z-10">
                <div className="flex items-center space-x-4">
                  <span className="text-sm font-mono text-slate-400">
                    Slide {currentSlide + 1} / {totalSlides}
                  </span>
                  <div className="w-32 h-2 bg-slate-700 rounded-full overflow-hidden hidden sm:block">
                    <div 
                      className="h-full bg-blue-500 transition-all duration-300"
                      style={{ width: `${((currentSlide + 1) / totalSlides) * 100}%` }}
